<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Meta tags for Discord/Twitter preview -->
  <title>Tiktok User Lookup</title>
  <meta name="title" content="Tiktok User Lookup" />
  <meta name="description" content="Easily search for TikTok users by username. Fast, accurate, and simple — find TikTok profiles instantly." />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://aleiba.lol/" />
  <meta property="og:title" content="Tiktok User Lookup" />
  <meta property="og:description" content="Easily search for TikTok users by username. Fast, accurate, and simple — find TikTok profiles instantly." />
  <meta property="og:image" content="https://i.postimg.cc/JnMtQ28m/b6c33ce9-726a-48f5-b9fc-2353c4954f16.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Tiktok User Lookup" />
  <meta name="twitter:description" content="Easily search for TikTok users by username. Fast, accurate, and simple — find TikTok profiles instantly." />
  <meta name="twitter:image" content="https://i.postimg.cc/JnMtQ28m/b6c33ce9-726a-48f5-b9fc-2353c4954f16.png" />

  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #121212;
      color: #eee;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      justify-content: flex-start;
      align-items: center;
      gap: 1rem;
    }
    header {
      margin: 1.5rem 0 0.5rem;
      font-size: 2rem;
      font-weight: bold;
      color: #51d0f0;
      user-select: none;
    }
    #search-area {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      width: 100%;
      max-width: 420px;
    }
    input#username {
      flex-grow: 1;
      font-size: 1rem;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      border: none;
      outline: none;
      background: #222;
      color: #eee;
      box-shadow: inset 0 0 8px #000;
      transition: box-shadow 0.3s ease;
    }
    input#username:focus {
      box-shadow: inset 0 0 8px #51d0f0;
    }
    button#search-btn {
      background: #51d0f0;
      border: none;
      color: #121212;
      padding: 0 16px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button#search-btn:hover {
      background: #36a9d9;
    }

    #result {
      background: #1e1e1e;
      border-radius: 12px;
      box-shadow: 0 0 15px #51d0f0aa;
      padding: 1rem 1.5rem;
      width: 100%;
      max-width: 700px;
      display: none;
      color: #eee;
    }

    /* Profile + info container */
    #result > div {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    #profile-pic {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 12px rgba(81, 208, 240, 0.7);
      user-select: none;
    }
    #download-btn {
      margin-top: 10px;
      padding: 6px 14px;
      border: none;
      background: #51d0f0;
      color: #121212;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s ease;
    }
    #download-btn:hover {
      background: #36a9d9;
    }
    #user-info {
      flex: 1;
      white-space: pre-wrap;
      font-size: 1rem;
      line-height: 1.4;
    }
    /* Footer with your contact info */
    footer {
      margin: 2rem 0 1rem;
      font-size: 0.85rem;
      color: #666;
      text-align: center;
      user-select: none;
    }
    footer a {
      color: #51d0f0;
      text-decoration: none;
      margin: 0 0.5rem;
      transition: color 0.3s ease;
    }
    footer a:hover {
      color: #36a9d9;
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <header>Tiktok User Lookup</header>

  <div id="search-area">
    <input type="text" id="username" placeholder="Enter TikTok username (e.g. aleiba)" autocomplete="off" />
    <button id="search-btn" onclick="searchUser()">Search</button>
  </div>

  <div id="result">
    <div>
      <div style="text-align:center;">
        <img id="profile-pic" src="" alt="Profile Picture" />
        <br />
        <button id="download-btn" style="display:none;">⬇️ Download Image</button>
      </div>
      <div id="user-info"></div>
    </div>
  </div>

  <footer>
    <a href="https://tiktok.com/@aleiba" target="_blank" rel="noopener noreferrer">TikTok @aleiba</a> | 
    <a href="https://discord.com/users/al3iba" target="_blank" rel="noopener noreferrer">Discord al3iba</a> | 
    <a href="mailto:aleiba@aleiba.lol">aleiba@aleiba.lol</a>
  </footer>

  <script>
    // Simple mapping from TikTok region codes to country names (expand if needed)
    const countryMap ={
  AD: "🇦🇩 Andorra",
  AE: "🇦🇪 United Arab Emirates",
  AF: "🇦🇫 Afghanistan",
  AG: "🇦🇬 Antigua and Barbuda",
  AI: "🇦🇮 Anguilla",
  AL: "🇦🇱 Albania",
  AM: "🇦🇲 Armenia",
  AO: "🇦🇴 Angola",
  AQ: "🇦🇶 Antarctica",
  AR: "🇦🇷 Argentina",
  AS: "🇦🇸 American Samoa",
  AT: "🇦🇹 Austria",
  AU: "🇦🇺 Australia",
  AW: "🇦🇼 Aruba",
  AX: "🇦🇽 Åland Islands",
  AZ: "🇦🇿 Azerbaijan",
  BA: "🇧🇦 Bosnia and Herzegovina",
  BB: "🇧🇧 Barbados",
  BD: "🇧🇩 Bangladesh",
  BE: "🇧🇪 Belgium",
  BF: "🇧🇫 Burkina Faso",
  BG: "🇧🇬 Bulgaria",
  BH: "🇧🇭 Bahrain",
  BI: "🇧🇮 Burundi",
  BJ: "🇧🇯 Benin",
  BL: "🇧🇱 Saint Barthélemy",
  BM: "🇧🇲 Bermuda",
  BN: "🇧🇳 Brunei",
  BO: "🇧🇴 Bolivia",
  BQ: "🇧🇶 Caribbean Netherlands",
  BR: "🇧🇷 Brazil",
  BS: "🇧🇸 Bahamas",
  BT: "🇧🇹 Bhutan",
  BV: "🇧🇻 Bouvet Island",
  BW: "🇧🇼 Botswana",
  BY: "🇧🇾 Belarus",
  BZ: "🇧🇿 Belize",
  CA: "🇨🇦 Canada",
  CC: "🇨🇨 Cocos (Keeling) Islands",
  CD: "🇨🇩 Democratic Republic of the Congo",
  CF: "🇨🇫 Central African Republic",
  CG: "🇨🇬 Republic of the Congo",
  CH: "🇨🇭 Switzerland",
  CI: "🇨🇮 Côte d'Ivoire",
  CK: "🇨🇰 Cook Islands",
  CL: "🇨🇱 Chile",
  CM: "🇨🇲 Cameroon",
  CN: "🇨🇳 China",
  CO: "🇨🇴 Colombia",
  CR: "🇨🇷 Costa Rica",
  CU: "🇨🇺 Cuba",
  CV: "🇨🇻 Cabo Verde",
  CW: "🇨🇼 Curaçao",
  CX: "🇨🇽 Christmas Island",
  CY: "🇨🇾 Cyprus",
  CZ: "🇨🇿 Czechia",
  DE: "🇩🇪 Germany",
  DJ: "🇩🇯 Djibouti",
  DK: "🇩🇰 Denmark",
  DM: "🇩🇲 Dominica",
  DO: "🇩🇴 Dominican Republic",
  DZ: "🇩🇿 Algeria",
  EC: "🇪🇨 Ecuador",
  EE: "🇪🇪 Estonia",
  EG: "🇪🇬 Egypt",
  EH: "🇪🇭 Western Sahara",
  ER: "🇪🇷 Eritrea",
  ES: "🇪🇸 Spain",
  ET: "🇪🇹 Ethiopia",
  FI: "🇫🇮 Finland",
  FJ: "🇫🇯 Fiji",
  FK: "🇫🇰 Falkland Islands",
  FM: "🇫🇲 Micronesia",
  FO: "🇫🇴 Faroe Islands",
  FR: "🇫🇷 France",
  GA: "🇬🇦 Gabon",
  GB: "🇬🇧 United Kingdom",
  GD: "🇬🇩 Grenada",
  GE: "🇬🇪 Georgia",
  GF: "🇬🇫 French Guiana",
  GG: "🇬🇬 Guernsey",
  GH: "🇬🇭 Ghana",
  GI: "🇬🇮 Gibraltar",
  GL: "🇬🇱 Greenland",
  GM: "🇬🇲 Gambia",
  GN: "🇬🇳 Guinea",
  GP: "🇬🇵 Guadeloupe",
  GQ: "🇬🇶 Equatorial Guinea",
  GR: "🇬🇷 Greece",
  GT: "🇬🇹 Guatemala",
  GU: "🇬🇺 Guam",
  GW: "🇬🇼 Guinea-Bissau",
  GY: "🇬🇾 Guyana",
  HK: "🇭🇰 Hong Kong",
  HM: "🇭🇲 Heard Island and McDonald Islands",
  HN: "🇭🇳 Honduras",
  HR: "🇭🇷 Croatia",
  HT: "🇭🇹 Haiti",
  HU: "🇭🇺 Hungary",
  ID: "🇮🇩 Indonesia",
  IE: "🇮🇪 Ireland",
  IL: "🇮🇱 Israel",
  IM: "🇮🇲 Isle of Man",
  IN: "🇮🇳 India",
  IO: "🇮🇴 British Indian Ocean Territory",
  IQ: "🇮🇶 Iraq",
  IR: "🇮🇷 Iran",
  IS: "🇮🇸 Iceland",
  IT: "🇮🇹 Italy",
  JE: "🇯🇪 Jersey",
  JM: "🇯🇲 Jamaica",
  JO: "🇯🇴 Jordan",
  JP: "🇯🇵 Japan",
  KE: "🇰🇪 Kenya",
  KG: "🇰🇬 Kyrgyzstan",
  KH: "🇰🇭 Cambodia",
  KI: "🇰🇮 Kiribati",
  KM: "🇰🇲 Comoros",
  KN: "🇰🇳 Saint Kitts and Nevis",
  KP: "🇰🇵 North Korea",
  KR: "🇰🇷 South Korea",
  KW: "🇰🇼 Kuwait",
  KY: "🇰🇾 Cayman Islands",
  KZ: "🇰🇿 Kazakhstan",
  LA: "🇱🇦 Laos",
  LB: "🇱🇧 Lebanon",
  LC: "🇱🇨 Saint Lucia",
  LI: "🇱🇮 Liechtenstein",
  LK: "🇱🇰 Sri Lanka",
  LR: "🇱🇷 Liberia",
  LS: "🇱🇸 Lesotho",
  LT: "🇱🇹 Lithuania",
  LU: "🇱🇺 Luxembourg",
  LV: "🇱🇻 Latvia",
  LY: "🇱🇾 Libya",
  MA: "🇲🇦 Morocco",
  MC: "🇲🇨 Monaco",
  MD: "🇲🇩 Moldova",
  ME: "🇲🇪 Montenegro",
  MF: "🇲🇫 Saint Martin",
  MG: "🇲🇬 Madagascar",
  MH: "🇲🇭 Marshall Islands",
  MK: "🇲🇰 North Macedonia",
  ML: "🇲🇱 Mali",
  MM: "🇲🇲 Myanmar",
  MN: "🇲🇳 Mongolia",
  MO: "🇲🇴 Macao",
  MP: "🇲🇵 Northern Mariana Islands",
  MQ: "🇲🇶 Martinique",
  MR: "🇲🇷 Mauritania",
  MS: "🇲🇸 Montserrat",
  MT: "🇲🇹 Malta",
  MU: "🇲🇺 Mauritius",
  MV: "🇲🇻 Maldives",
  MW: "🇲🇼 Malawi",
  MX: "🇲🇽 Mexico",
  MY: "🇲🇾 Malaysia",
  MZ: "🇲🇿 Mozambique",
  NA: "🇳🇦 Namibia",
  NC: "🇳🇨 New Caledonia",
  NE: "🇳🇪 Niger",
  NF: "🇳🇫 Norfolk Island",
  NG: "🇳🇬 Nigeria",
  NI: "🇳🇮 Nicaragua",
  NL: "🇳🇱 Netherlands",
  NO: "🇳🇴 Norway",
  NP: "🇳🇵 Nepal",
  NR: "🇳🇷 Nauru",
  NU: "🇳🇺 Niue",
  NZ: "🇳🇿 New Zealand",
  OM: "🇴🇲 Oman",
  PA: "🇵🇦 Panama",
  PE: "🇵🇪 Peru",
  PF: "🇵🇫 French Polynesia",
  PG: "🇵🇬 Papua New Guinea",
  PH: "🇵🇭 Philippines",
  PK: "🇵🇰 Pakistan",
  PL: "🇵🇱 Poland",
  PM: "🇵🇲 Saint Pierre and Miquelon",
  PN: "🇵🇳 Pitcairn Islands",
  PR: "🇵🇷 Puerto Rico",
  PS: "🇵🇸 Palestine",
  PT: "🇵🇹 Portugal",
  PW: "🇵🇼 Palau",
  PY: "🇵🇾 Paraguay",
  QA: "🇶🇦 Qatar",
  RE: "🇷🇪 Réunion",
  RO: "🇷🇴 Romania",
  RS: "🇷🇸 Serbia",
  RU: "🇷🇺 Russia",
  RW: "🇷🇼 Rwanda",
  SA: "🇸🇦 Saudi Arabia",
  SB: "🇸🇧 Solomon Islands",
  SC: "🇸🇨 Seychelles",
  SD: "🇸🇩 Sudan",
  SE: "🇸🇪 Sweden",
  SG: "🇸🇬 Singapore",
  SH: "🇸🇭 Saint Helena",
  SI: "🇸🇮 Slovenia",
  SJ: "🇸🇯 Svalbard and Jan Mayen",
  SK: "🇸🇰 Slovakia",
  SL: "🇸🇱 Sierra Leone",
  SM: "🇸🇲 San Marino",
  SN: "🇸🇳 Senegal",
  SO: "🇸🇴 Somalia",
  SR: "🇸🇷 Suriname",
  SS: "🇸🇸 South Sudan",
  ST: "🇸🇹 Sao Tome and Principe",
  SV: "🇸🇻 El Salvador",
  SX: "🇸🇽 Sint Maarten",
  SY: "🇸🇾 Syria",
  SZ: "🇸🇿 Eswatini",
  TC: "🇹🇨 Turks and Caicos Islands",
  TD: "🇹🇩 Chad",
  TF: "🇹🇫 French Southern Territories",
  TG: "🇹🇬 Togo",
  TH: "🇹🇭 Thailand",
  TJ: "🇹🇯 Tajikistan",
  TK: "🇹🇰 Tokelau",
  TL: "🇹🇱 Timor-Leste",
  TM: "🇹🇲 Turkmenistan",
  TN: "🇹🇳 Tunisia",
  TO: "🇹🇴 Tonga",
  TR: "🇹🇷 Turkey",
  TT: "🇹🇹 Trinidad and Tobago",
  TV: "🇹🇻 Tuvalu",
  TW: "🇹🇼 Taiwan",
  TZ: "🇹🇿 Tanzania",
  UA: "🇺🇦 Ukraine",
  UG: "🇺🇬 Uganda",
  UM: "🇺🇲 U.S. Outlying Islands",
  US: "🇺🇸 United States",
  UY: "🇺🇾 Uruguay",
  UZ: "🇺🇿 Uzbekistan",
  VA: "🇻🇦 Vatican City",
  VC: "🇻🇨 Saint Vincent and the Grenadines",
  VE: "🇻🇪 Venezuela",
  VG: "🇻🇬 British Virgin Islands",
  VI: "🇻🇮 U.S. Virgin Islands",
  VN: "🇻🇳 Vietnam",
  VU: "🇻🇺 Vanuatu",
  WF: "🇼🇫 Wallis and Futuna",
  WS: "🇼🇸 Samoa",
  YE: "🇾🇪 Yemen",
  YT: "🇾🇹 Mayotte",
  ZA: "🇿🇦 South Africa",
  ZM: "🇿🇲 Zambia",
  ZW: "🇿🇼 Zimbabwe"
};

    function countryNameFromCode(code) {
      if (!code) return "Not Available";
      return countryMap[code.toUpperCase()] || code;
    }

    async function searchUser() {
      const username = document.getElementById("username").value.trim();
      const resultDiv = document.getElementById("result");
      const profilePic = document.getElementById("profile-pic");
      const userInfo = document.getElementById("user-info");
      const downloadBtn = document.getElementById("download-btn");

      if (!username) return;

      resultDiv.style.display = "block";
      profilePic.src = "";
      userInfo.textContent = `⏳ Fetching info for @${username}...`;
      downloadBtn.style.display = "none";

      try {
        const res = await fetch(`/lookup?username=${encodeURIComponent(username)}`);
        const data = await res.json();

        if (data.error) {
          userInfo.innerHTML = `<strong>Error:</strong> ${data.error}`;
          profilePic.src = "";
          downloadBtn.style.display = "none";
          return;
        }

        profilePic.src = data.profile_pic || "";
        userInfo.innerHTML = `
<strong>Username:</strong> @${data.username}
<strong>Nickname:</strong> ${data.nickname}
<strong>Followers:</strong> ${Number(data.followers).toLocaleString()}
<strong>Following:</strong> ${Number(data.following).toLocaleString()}
<strong>Likes:</strong> ${Number(data.likes).toLocaleString()}
<strong>Country:</strong> ${countryNameFromCode(data.region)}
<strong>Created On:</strong> ${data.created || "N/A"}
<strong>Nickname Changed:</strong> ${data.nickname_edited ? "✅ Yes" : "❌ No"}
<strong>Username Changed:</strong> ${data.username_changed ? "✅ Yes" : "❌ No"}
<strong>Passkey Enabled:</strong> ${data.has_passkey ? "🔐 Yes" : "🔓 No"}
        `;

        if (data.profile_pic) {
          downloadBtn.style.display = "inline-block";
          downloadBtn.onclick = () => {
            const a = document.createElement("a");
            a.href = data.profile_pic;
            a.download = `${data.username}_profile_pic.jpg`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
          };
        } else {
          downloadBtn.style.display = "none";
        }
      } catch (e) {
        userInfo.innerHTML = `<strong>Error:</strong> ${e.message}`;
        profilePic.src = "";
        downloadBtn.style.display = "none";
      }
    }

    // Optional: submit on enter key
    document.getElementById("username").addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        searchUser();
      }
    });
  </script>
</body>
</html>
